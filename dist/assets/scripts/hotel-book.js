import{a as J}from"../chunks/chunk-EDJVN5NE.js";import"../chunks/chunk-JWGY7WOG.js";import"../chunks/chunk-7PZ3I4MT.js";var xe=Object.defineProperty,Q=Object.getOwnPropertySymbols,Ye=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable,q=(e,t,a)=>t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ve=(e,t)=>{for(var a in t||(t={}))Ye.call(t,a)&&q(e,a,t[a]);if(Q)for(var a of Q(t))Ae.call(t,a)&&q(e,a,t[a]);return e},u=(e,t,a)=>(q(e,typeof t!="symbol"?t+"":t,a),a),Ne={calendar:"vanilla-calendar",calendarDefault:"vanilla-calendar_default",calendarMultiple:"vanilla-calendar_multiple",calendarMonth:"vanilla-calendar_month",calendarYear:"vanilla-calendar_year",calendarHidden:"vanilla-calendar_hidden",calendarToInput:"vanilla-calendar_to-input",calendarToInputTop:"vanilla-calendar_to-input_top",calendarToInputBottom:"vanilla-calendar_to-input_bottom",controls:"vanilla-calendar-controls",grid:"vanilla-calendar-grid",gridDisabled:"vanilla-calendar-grid_disabled",column:"vanilla-calendar-column",columnMonth:"vanilla-calendar-column_month",columnYear:"vanilla-calendar-column_year",header:"vanilla-calendar-header",headerContent:"vanilla-calendar-header__content",month:"vanilla-calendar-month",monthDisabled:"vanilla-calendar-month_disabled",year:"vanilla-calendar-year",yearDisabled:"vanilla-calendar-year_disabled",arrow:"vanilla-calendar-arrow",arrowPrev:"vanilla-calendar-arrow_prev",arrowNext:"vanilla-calendar-arrow_next",wrapper:"vanilla-calendar-wrapper",content:"vanilla-calendar-content",week:"vanilla-calendar-week",weekDay:"vanilla-calendar-week__day",weekDayWeekend:"vanilla-calendar-week__day_weekend",days:"vanilla-calendar-days",daysSelecting:"vanilla-calendar-days_selecting",months:"vanilla-calendar-months",monthsSelecting:"vanilla-calendar-months_selecting",monthsMonth:"vanilla-calendar-months__month",monthsMonthSelected:"vanilla-calendar-months__month_selected",monthsMonthDisabled:"vanilla-calendar-months__month_disabled",years:"vanilla-calendar-years",yearsSelecting:"vanilla-calendar-years_selecting",yearsYear:"vanilla-calendar-years__year",yearsYearSelected:"vanilla-calendar-years__year_selected",yearsYearDisabled:"vanilla-calendar-years__year_disabled",time:"vanilla-calendar-time",timeContent:"vanilla-calendar-time__content",timeHours:"vanilla-calendar-time__hours",timeMinutes:"vanilla-calendar-time__minutes",timeKeeping:"vanilla-calendar-time__keeping",timeRanges:"vanilla-calendar-time__ranges",timeRange:"vanilla-calendar-time__range",day:"vanilla-calendar-day",dayHoverFirst:"vanilla-calendar-day_hover-first",dayHoverLast:"vanilla-calendar-day_hover-last",dayHoverIntermediate:"vanilla-calendar-day_hover-intermediate",daySelectedFirst:"vanilla-calendar-day_selected-first",daySelectedLast:"vanilla-calendar-day_selected-last",daySelectedIntermediate:"vanilla-calendar-day_selected-intermediate",dayPopup:"vanilla-calendar-day__popup",dayBtn:"vanilla-calendar-day__btn",dayBtnPrev:"vanilla-calendar-day__btn_prev",dayBtnNext:"vanilla-calendar-day__btn_next",dayBtnToday:"vanilla-calendar-day__btn_today",dayBtnSelected:"vanilla-calendar-day__btn_selected",dayBtnHover:"vanilla-calendar-day__btn_hover",dayBtnDisabled:"vanilla-calendar-day__btn_disabled",dayBtnWeekend:"vanilla-calendar-day__btn_weekend",dayBtnHoliday:"vanilla-calendar-day__btn_holiday",weekNumbers:"vanilla-calendar-week-numbers",weekNumbersTitle:"vanilla-calendar-week-numbers__title",weekNumbersContent:"vanilla-calendar-week-numbers__content",weekNumber:"vanilla-calendar-week-number",isFocus:"vanilla-calendar-is-focus"};var Ie=e=>`<div class="${e.controls}"><#ArrowPrev /><#ArrowNext /></div><div class="${e.grid}"><#Multiple><div class="${e.column}"><div class="${e.header}"><div class="${e.headerContent}"><#Month /><#Year /></div></div><div class="${e.wrapper}"><#WeekNumbers /><div class="${e.content}"><#Week /><#Days /></div></div></div><#/Multiple></div><#ControlTime />`,qe=e=>`<div class="${e.header}"><div class="${e.headerContent}"><#Month /><#Year /></div></div><div class="${e.wrapper}"><div class="${e.content}"><#Months /></div></div>`,Pe=e=>`<div class="${e.header}"><#ArrowPrev /><div class="${e.headerContent}"><#Month /><#Year /></div><#ArrowNext /></div><div class="${e.wrapper}"><div class="${e.content}"><#Years /></div></div>`,P=class{constructor(){var t;u(this,"isInit",!1),u(this,"isInputInit",!1),u(this,"input",!1),u(this,"type","default"),u(this,"months",2),u(this,"jumpMonths",1),u(this,"jumpToSelectedDate",!1),u(this,"toggleSelected",!0),u(this,"date",{min:"1970-01-01",max:"2470-12-31",today:new Date}),u(this,"settings",{lang:"en",iso8601:!0,range:{min:void 0,max:void 0,disablePast:!1,disableGaps:!1,edgesOnly:!1,disableAllDays:!1,disableWeekday:void 0,disabled:void 0,enabled:void 0},selection:{day:"single",month:!0,year:!0,time:!1,controlTime:"all",stepHours:1,stepMinutes:1,cancelableDay:!0},selected:{dates:void 0,month:void 0,year:void 0,holidays:void 0,time:void 0},visibility:{theme:"system",themeDetect:"html[data-theme]",monthShort:!0,weekNumbers:!1,weekend:!0,today:!0,disabled:!1,daysOutside:!0,positionToInput:"left"}}),u(this,"locale",{months:[],weekday:[]}),u(this,"sanitizer",a=>a),u(this,"actions",{clickDay:null,clickWeekNumber:null,clickMonth:null,clickYear:null,clickArrow:null,changeTime:null,changeToInput:null,getDays:null,getMonths:null,getYears:null,initCalendar:null,updateCalendar:null,destroyCalendar:null,showCalendar:null,hideCalendar:null}),u(this,"popups",{}),u(this,"CSSClasses",ve({},Ne)),u(this,"DOMTemplates",{default:(t=this.CSSClasses,`<div class="${t.header}"><#ArrowPrev /><div class="${t.headerContent}"><#Month /><#Year /></div><#ArrowNext /></div><div class="${t.wrapper}"><#WeekNumbers /><div class="${t.content}"><#Week /><#Days /></div></div><#ControlTime />`),multiple:Ie(this.CSSClasses),month:qe(this.CSSClasses),year:Pe(this.CSSClasses)}),u(this,"HTMLElement"),u(this,"HTMLOriginalElement"),u(this,"HTMLInputElement"),u(this,"rangeMin"),u(this,"rangeMax"),u(this,"rangeDisabled"),u(this,"rangeEnabled"),u(this,"selectedDates"),u(this,"selectedHolidays"),u(this,"selectedMonth"),u(this,"selectedYear"),u(this,"selectedHours"),u(this,"selectedMinutes"),u(this,"selectedKeeping"),u(this,"selectedTime"),u(this,"currentType"),u(this,"correctMonths"),u(this,"viewYear"),u(this,"dateMin"),u(this,"dateMax")}},p=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,g=e=>new Date(`${e}T00:00:00`),C=e=>e.reduce((t,a)=>{if(a instanceof Date||typeof a=="number"){let s=a instanceof Date?a:new Date(a);t.push(s.toISOString().substring(0,10))}else a.match(/^(\d{4}-\d{2}-\d{2})$/g)?t.push(a):a.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,(s,n,l)=>{let i=g(n),r=g(l),d=new Date(i.getTime());for(;d<=r;d.setDate(d.getDate()+1))t.push(p(d));return s});return t},[]),E=()=>{let e=new Date;return new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().substring(0,10)},T=e=>e?{0:"12",13:"01",14:"02",15:"03",16:"04",17:"05",18:"06",19:"07",20:"08",21:"09",22:"10",23:"11"}[Number(e)]||String(e):"",f={notFoundSelector:e=>`${e} is not found, check the first argument passed to new VanillaCalendar.`,notInit:'The calendar has not been initialized, please initialize it using the "init()" method first.',notLocale:'You specified "define" for "settings.lang" but did not provide the required values for "locale.weekday" or "locale.months".',incorrectTheme:'Incorrect name of theme in "settings.visibility.theme".',incorrectTime:"The value of the time property can be: false, true, 12 or 24."},Fe=e=>{var t;if(e.jumpToSelectedDate&&((t=e.settings.selected.dates)!=null&&t.length)&&e.settings.selected.month===void 0&&e.settings.selected.year===void 0){let n=g(C(e.settings.selected.dates)[0]);e.settings.selected.month=n.getMonth(),e.settings.selected.year=n.getFullYear()}let a=e.settings.selected.month!==void 0&&Number(e.settings.selected.month)>=0&&Number(e.settings.selected.month)<12,s=e.settings.selected.year!==void 0&&Number(e.settings.selected.year)>=0&&Number(e.settings.selected.year)<=9999;e.selectedMonth=a?Number(e.settings.selected.month):e.date.today.getMonth(),e.selectedYear=s?Number(e.settings.selected.year):e.date.today.getFullYear(),e.viewYear=e.selectedYear},We=e=>{var t,a,s;e.date.min==="today"&&(e.date.min=E()),e.date.max==="today"&&(e.date.max=E()),e.settings.range.min==="today"&&(e.settings.range.min=E()),e.settings.range.max==="today"&&(e.settings.range.max=E()),e.settings.range.min=e.settings.range.min?g(e.date.min)>=g(e.settings.range.min)?e.date.min:e.settings.range.min:e.date.min,e.settings.range.max=e.settings.range.max?g(e.date.max)<=g(e.settings.range.max)?e.date.max:e.settings.range.max:e.date.max;let n=e.settings.range.disablePast&&!e.settings.range.disableAllDays&&g(e.settings.range.min)<e.date.today;e.rangeMin=n||e.settings.range.disableAllDays?p(e.date.today):e.settings.range.min,e.rangeMax=e.settings.range.disableAllDays?p(e.date.today):e.settings.range.max,e.rangeDisabled=e.settings.range.disabled&&!e.settings.range.disableAllDays?C(e.settings.range.disabled):e.settings.range.disableAllDays?[e.rangeMin]:[],e.rangeDisabled.length>1&&e.rangeDisabled.sort((l,i)=>+new Date(l)-+new Date(i)),e.rangeEnabled=e.settings.range.enabled?C(e.settings.range.enabled):[],(t=e.rangeEnabled)!=null&&t[0]&&((a=e.rangeDisabled)!=null&&a[0])&&(e.rangeDisabled=e.rangeDisabled.filter(l=>!e.rangeEnabled.includes(l))),e.rangeEnabled.length>1&&e.rangeEnabled.sort((l,i)=>+new Date(l)-+new Date(i)),(s=e.rangeEnabled)!=null&&s[0]&&e.settings.range.disableAllDays&&(e.rangeMin=e.rangeEnabled[0],e.rangeMax=e.rangeEnabled[e.rangeEnabled.length-1])},Oe=e=>{var t,a;e.selectedDates=(t=e.settings.selected.dates)!=null&&t[0]?C(e.settings.selected.dates):[],e.selectedHolidays=(a=e.settings.selected.holidays)!=null&&a[0]?C(e.settings.selected.holidays):[]},Be=e=>{e.dateMin=e.settings.visibility.disabled?g(e.date.min):g(e.rangeMin),e.dateMax=e.settings.visibility.disabled?g(e.date.max):g(e.rangeMax)},je=e=>{let t=e.settings.selection.time===!0||e.settings.selection.time===12;if(t||e.settings.selection.time===24){let a=!1;if(typeof e.settings.selected.time=="string"){let s=t?/^([0-9]|0[1-9]|1[0-2]):([0-5][0-9])|(AM|PM)/g:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])/g;e.settings.selected.time.replace(s,(n,l,i,r)=>(l&&i&&(a=!0,e.selectedHours=l,e.selectedMinutes=i),r&&t?e.selectedKeeping=r:t&&(e.selectedKeeping="AM"),""))}!a&&t?(e.selectedHours=T(String(e.date.today.getHours())),e.selectedMinutes=String(e.date.today.getMinutes()),e.selectedKeeping=Number(e.date.today.getHours())>=12?"PM":"AM"):a||(e.selectedHours=String(e.date.today.getHours()),e.selectedMinutes=String(e.date.today.getMinutes())),e.selectedHours=Number(e.selectedHours)<10?`0${Number(e.selectedHours)}`:`${e.selectedHours}`,e.selectedMinutes=Number(e.selectedMinutes)<10?`0${Number(e.selectedMinutes)}`:`${e.selectedMinutes}`,e.selectedTime=`${e.selectedHours}:${e.selectedMinutes}${e.selectedKeeping?` ${e.selectedKeeping}`:""}`}else if(e.settings.selection.time)throw new Error(f.incorrectTime)},Ke=e=>{e.correctMonths=e.type==="multiple"?e.months===1?2:e.months>12?12:e.months:1},ge=e=>{e.currentType=e.type,Fe(e),We(e),Oe(e),Be(e),je(e),Ke(e)},ee=({arrowPrev:e,arrowNext:t,isPrevHidden:a,isNextHidden:s})=>{e.style.visibility=a?"hidden":"",t.style.visibility=s?"hidden":""},j=e=>{var t,a;if(e.currentType==="month")return;let s=(t=e.HTMLElement)==null?void 0:t.querySelector(`.${e.CSSClasses.arrowPrev}`),n=(a=e.HTMLElement)==null?void 0:a.querySelector(`.${e.CSSClasses.arrowNext}`);!s||!n||{default:()=>{let l=g(p(new Date(e.selectedYear,e.selectedMonth,1))),i=new Date(l.getTime()),r=new Date(l.getTime());i.setMonth(i.getMonth()-e.jumpMonths),r.setMonth(r.getMonth()+e.jumpMonths),e.settings.selection.year||(e.dateMin.setFullYear(l.getFullYear()),e.dateMax.setFullYear(l.getFullYear()));let d=!e.settings.selection.month||i.getFullYear()<e.dateMin.getFullYear()||i.getFullYear()===e.dateMin.getFullYear()&&i.getMonth()<e.dateMin.getMonth(),o=!e.settings.selection.month||r.getFullYear()>e.dateMax.getFullYear()||r.getFullYear()===e.dateMax.getFullYear()&&r.getMonth()>e.dateMax.getMonth();ee({arrowPrev:s,arrowNext:n,isPrevHidden:d,isNextHidden:o})},year:()=>{ee({arrowPrev:s,arrowNext:n,isPrevHidden:e.dateMin.getFullYear()&&e.viewYear-7<=e.dateMin.getFullYear(),isNextHidden:e.dateMax.getFullYear()&&e.viewYear+7>=e.dateMax.getFullYear()})}}[e.currentType==="multiple"?"default":e.currentType]()},he=(e,t)=>{if(!e)return null;let a=g(e),s=t?a.getDay()||7:a.getDay();a.setDate(a.getDate()+4-s);let n=new Date(a.getFullYear(),0,1),l=Math.ceil(((+a-+n)/864e5+1)/7);return{year:a.getFullYear(),week:l}};function K(e){if(!e||!e.getBoundingClientRect)return{top:0,bottom:0,left:0,right:0};let t=e.getBoundingClientRect(),a=document.documentElement;return{bottom:t.bottom,right:t.right,top:t.top+window.scrollY-a.clientTop,left:t.left+window.scrollX-a.clientLeft}}function Re(){return{left:window.scrollX||document.documentElement.scrollLeft||0,top:window.scrollY||document.documentElement.scrollTop||0}}function ye(){return{vw:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),vh:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)}}function ze(e){let{top:t,left:a}=Re(),{top:s,left:n}=K(e),{vh:l,vw:i}=ye(),r=s-t,d=n-a;return{top:r,bottom:l-(r+e.clientHeight),left:d,right:i-(d+e.clientWidth)}}function pe(e,t,a=5){let s={top:!0,bottom:!0,left:!0,right:!0},n=[];if(!t||!e)return{canShow:s,parentPositions:n};let{bottom:l,top:i}=ze(e),{top:r,left:d}=K(e),{height:o,width:c}=t.getBoundingClientRect(),{vh:v,vw:h}=ye(),y=h/2,b=v/2;return[{condition:r<b,position:"top"},{condition:r>b,position:"bottom"},{condition:d<y,position:"left"},{condition:d>y,position:"right"}].forEach(({condition:N,position:I})=>{N&&n.push(I)}),Object.assign(s,{top:o<=i-a,bottom:o<=l-a,left:c<=d,right:c<=h-d}),{canShow:s,parentPositions:n}}function Ge(e,t){let a="left";if(!t||!e)return a;let{canShow:s,parentPositions:n}=pe(e,t),l=s.left&&s.right;return(l&&s.bottom?"center":l&&s.top?["top","center"]:Array.isArray(n)?[n[0]==="bottom"?"top":"bottom",...n.slice(1)]:n)||a}var F=(e,t,a,s)=>{if(e){let n=a==="auto"?Ge(e,t):a,l={top:-t.offsetHeight,bottom:e.offsetHeight,left:0,center:e.offsetWidth/2-t.offsetWidth/2,right:e.offsetWidth-t.offsetWidth},i=Array.isArray(n)?n[0]:"bottom",r=Array.isArray(n)?n[1]:n;i==="bottom"?(t.classList.remove(s.calendarToInputTop),t.classList.add(s.calendarToInputBottom)):(t.classList.remove(s.calendarToInputBottom),t.classList.add(s.calendarToInputTop));let{top:d,left:o}=K(e),c=d+l[i],v=o+l[r];Object.assign(t.style,{left:`${v}px`,top:`${c}px`})}},Ve=(e,t,a,s)=>{let n=e.CSSClasses.dayPopup,l=s.querySelector(`[data-calendar-day="${t}"]`);if(l&&(a?.modifier&&l.classList.add(...a.modifier.trim().split(" ")),a?.html)){let i=l.parentElement,r=document.createElement("div");r.className=n,r.innerHTML=e.sanitizer(a.html),i.appendChild(r),setTimeout(()=>{if(r){let{canShow:d}=pe(i,r),o=5,c=i.offsetHeight,v=0;d.bottom||(c=-r.offsetHeight-o),d.left&&!d.right&&(v=i.offsetWidth-r.offsetWidth/2),!d.left&&d.right&&(v=r.offsetWidth/2),Object.assign(r.style,{left:`${v}px`,top:`${c}px`})}})}},Ze=(e,t)=>{var a;e.popups&&((a=Object.entries(e.popups))==null||a.forEach(([s,n])=>Ve(e,s,n,t)))},Ue=(e,t,a,s,n)=>{let l=t[a].querySelector(`.${e.CSSClasses.dayBtn}`),i=he(l?.dataset.calendarDay,e.settings.iso8601);if(!i)return;let r=s.cloneNode(!0);r.innerText=String(i.week),r.dataset.calendarYearWeek=String(i.year),n.appendChild(r)},Xe=(e,t,a,s,n)=>{if(!e.settings.visibility.weekNumbers)return;s.textContent="";let l=document.createElement("b");l.className=e.CSSClasses.weekNumbersTitle,l.innerText="#",s.appendChild(l);let i=document.createElement("div");i.className=e.CSSClasses.weekNumbersContent,s.appendChild(i);let r=document.createElement("button");r.type="button",r.className=e.CSSClasses.weekNumber;let d=n.querySelectorAll(`.${e.CSSClasses.day}`),o=Math.ceil((t+a)/7);for(let c=0;c<o;c++)Ue(e,d,c===0?6:7*c,r,i)},Je=(e,t,a)=>{var s,n,l,i,r;let d=(s=e.settings.range.disableWeekday)==null?void 0:s.includes(a),o=e.settings.range.disableAllDays&&!!((n=e.rangeEnabled)!=null&&n[0]);!d&&!o||(l=e.rangeEnabled)!=null&&l.includes(t)||(i=e.rangeDisabled)!=null&&i.includes(t)||(e.rangeDisabled.push(t),(r=e.rangeDisabled)==null||r.sort((c,v)=>+new Date(c)-+new Date(v)))},Qe=(e,t,a,s,n,l,i)=>{var r,d,o;if((g(e.rangeMin)>g(l)||g(e.rangeMax)<g(l)||(r=e.rangeDisabled)!=null&&r.includes(l)||!e.settings.selection.month&&i||!e.settings.selection.year&&g(l).getFullYear()!==t)&&(s.classList.add(e.CSSClasses.dayBtnDisabled),s.tabIndex=-1),e.settings.visibility.today&&p(e.date.today)===l&&s.classList.add(e.CSSClasses.dayBtnToday),!e.settings.visibility.weekend||n!==0&&n!==6||s.classList.add(e.CSSClasses.dayBtnWeekend),(d=e.selectedHolidays)!=null&&d.includes(l)&&s.classList.add(e.CSSClasses.dayBtnHoliday),(o=e.selectedDates)!=null&&o.includes(l)&&(s.classList.add(e.CSSClasses.dayBtnSelected),e.selectedDates.length>1&&e.settings.selection.day==="multiple-ranged"&&(e.selectedDates[0]===l&&a.classList.add(e.CSSClasses.daySelectedFirst),e.selectedDates[e.selectedDates.length-1]===l&&a.classList.add(e.CSSClasses.daySelectedLast),e.selectedDates[0]!==l&&e.selectedDates[e.selectedDates.length-1]!==l&&a.classList.add(e.CSSClasses.daySelectedIntermediate))),e.settings.range.edgesOnly&&e.selectedDates.length>1&&e.settings.selection.day==="multiple-ranged"){let c=+new Date(e.selectedDates[0]),v=+new Date(e.selectedDates[e.selectedDates.length-1]),h=+new Date(l);h>c&&h<v&&(s.classList.add(e.CSSClasses.dayBtnSelected),a.classList.add(e.CSSClasses.daySelectedIntermediate))}},R=(e,t,a,s,n,l,i,r)=>{let d=document.createElement("div");d.className=e.CSSClasses.day;let o=document.createElement("button");o.className=`${e.CSSClasses.dayBtn}${r?` ${r}`:""}`,o.type="button",o.innerText=String(s),o.dataset.calendarDay=l,e.settings.visibility.weekNumbers&&(()=>{let c=he(l,e.settings.iso8601);c&&(o.dataset.calendarWeekNumber=String(c.week))})(),i?e.settings.visibility.daysOutside&&d.appendChild(o):d.appendChild(o),Je(e,l,n),Qe(e,t,d,o,n,l,i),a.appendChild(d),e.actions.getDays&&e.actions.getDays(s,l,d,o,e)},et=(e,t,a,s,n)=>{let l=new Date(a,s,0).getDate()-(n-1),i=s===0?a-1:a,r=s===0?12:s<10?`0${s}`:s;for(let d=n;d>0;d--,l++){let o=`${i}-${r}-${l}`,c=g(o).getDay();R(e,a,t,l,c,o,!0,e.CSSClasses.dayBtnPrev)}},tt=(e,t,a,s,n)=>{for(let l=1;l<=a;l++){let i=new Date(s,n,l),r=p(i),d=i.getDay();R(e,s,t,l,d,r,!1,null)}},at=(e,t,a,s,n,l)=>{let i=l+a,r=7*Math.ceil(i/7)-i,d=n+1===12?s+1:s,o=n+1===12?"01":n+2<10?`0${n+2}`:n+2;for(let c=1;c<=r;c++){let v=`${d}-${o}-${c<10?`0${c}`:String(c)}`,h=g(v).getDay();R(e,s,t,c,h,v,!0,e.CSSClasses.dayBtnNext)}},_=e=>{let t=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.days}`),a=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.weekNumbers}`),s=new Date(e.selectedYear,e.selectedMonth,1);t.forEach((n,l)=>{let i=new Date(s);i.setMonth(i.getMonth()+l);let r=i.getMonth(),d=i.getFullYear(),o=new Date(d,r,1),c=new Date(d,r+1,0).getDate(),v=e.settings.iso8601?(o.getDay()!==0?o.getDay():7)-1:o.getDay();e.settings.selection.day&&n.classList.add(e.CSSClasses.daysSelecting),n.textContent="",et(e,n,d,r,v),tt(e,n,c,d,r),at(e,n,c,d,r,v),Xe(e,v,c,a[l],n),Ze(e,n)})},nt=(e,t,a,s)=>{let n=new Date(s.setMonth(e.selectedMonth+a)).getMonth(),l=e.settings.selection.month===!1||e.settings.selection.month==="only-arrows";t.tabIndex=l?-1:0,t.classList.toggle(e.CSSClasses.monthDisabled,l),t.setAttribute("data-calendar-selected-month",String(n)),t.innerText=e.locale.months[n]},st=(e,t,a,s)=>{let n=new Date(s.setFullYear(e.selectedYear,e.selectedMonth+a)).getFullYear(),l=e.settings.selection.year===!1||e.settings.selection.year==="only-arrows";t.tabIndex=l?-1:0,t.classList.toggle(e.CSSClasses.yearDisabled,l),t.setAttribute("data-calendar-selected-year",String(n)),t.innerText=String(n)},x=e=>{var t,a;let s=(t=e.HTMLElement)==null?void 0:t.querySelectorAll("[data-calendar-selected-month]"),n=(a=e.HTMLElement)==null?void 0:a.querySelectorAll("[data-calendar-selected-year]");if(!s?.[0]&&n?.[0])return;let l=new Date(e.selectedYear,e.selectedMonth,1);s?.forEach((i,r)=>nt(e,i,r,l)),n?.forEach((i,r)=>st(e,i,r,l))},W=(e,t)=>{let a=g(p(new Date(e.selectedYear,e.selectedMonth,1)));({prev:()=>a.setMonth(a.getMonth()-e.jumpMonths),next:()=>a.setMonth(a.getMonth()+e.jumpMonths)})[t](),[e.selectedMonth,e.selectedYear]=[a.getMonth(),a.getFullYear()],x(e),j(e),_(e)},lt=e=>`<button type="button"class="${e.CSSClasses.arrow} ${e.CSSClasses.arrowPrev}"data-calendar-arrow="prev"></button>`,it=e=>`<button type="button"class="${e.CSSClasses.arrow} ${e.CSSClasses.arrowNext}"data-calendar-arrow="next"></button>`,rt=e=>`<button type="button"class="${e.CSSClasses.month}"data-calendar-selected-month></button>`,dt=e=>`<button type="button"class="${e.CSSClasses.year}"data-calendar-selected-year></button>`,ot=e=>`<div class="${e.CSSClasses.week}"></div>`,ct=e=>`<div class="${e.CSSClasses.days}"></div>`,ut=e=>`<div class="${e.CSSClasses.months}"></div>`,mt=e=>`<div class="${e.CSSClasses.years}"></div>`,vt=e=>e.settings.visibility.weekNumbers?`<div class="${e.CSSClasses.weekNumbers}"></div>`:"",gt=e=>e.settings.selection.time?`<div class="${e.CSSClasses.time}"></div>`:"",ht=Object.freeze(Object.defineProperty({__proto__:null,ArrowNext:it,ArrowPrev:lt,ControlTime:gt,Days:ct,Month:rt,Months:ut,Week:ot,WeekNumbers:vt,Year:dt,Years:mt},Symbol.toStringTag,{value:"Module"}));var w=(e,t)=>t.replace(/[\n\t]/g,"").replace(/<#(?!\/?Multiple)(.*?)>/g,(a,s)=>{let n=(l=s.replace(/[/\s\n\t]/g,""),ht[l]);var l;let i=n?n(e):"";return e.sanitizer(i)}).replace(/[\n\t]/g,""),yt=(e,t)=>t.replace(/<#Multiple>(.*?)<#\/Multiple>/g,(a,s)=>{let n="";for(let l=0;l<e.correctMonths;l++)n+=s;return e.sanitizer(n)}).replace(/[\n\t]/g,""),z=(e,t)=>{let{HTMLElement:a,CSSClasses:s,DOMTemplates:n,type:l,currentType:i,correctMonths:r}=e,d=(c,v)=>{if(!t)return;let h=a.querySelector(`.${s.controls}`);h&&a.removeChild(h),a.querySelector(`.${s.grid}`).classList.add(s.gridDisabled);let y=t.closest(`.${s.column}`);y.classList.add(c),y.innerHTML=w(e,v)},o={default:()=>{a.classList.add(s.calendarDefault),a.classList.remove(s.calendarMonth,s.calendarYear),a.innerHTML=w(e,n.default)},multiple:()=>{r&&(a.classList.add(s.calendarMultiple),a.classList.remove(s.calendarMonth,s.calendarYear),a.innerHTML=yt(e,w(e,n.multiple)))},month:()=>{l!=="multiple"?(a.classList.add(s.calendarMonth),a.classList.remove(s.calendarDefault,s.calendarYear),a.innerHTML=w(e,n.month)):d(s.columnMonth,n.month)},year:()=>{l!=="multiple"?(a.classList.add(s.calendarYear),a.classList.remove(s.calendarDefault,s.calendarMonth),a.innerHTML=w(e,n.year)):d(s.columnYear,n.year)}};a.classList.add(s.calendar),o[i]()},pt=(e,t,a,s,n)=>{let l=t.cloneNode(!1);return l.className=`${e.CSSClasses.yearsYear}${a===n?` ${e.CSSClasses.yearsYearSelected}`:s?` ${e.CSSClasses.yearsYearDisabled}`:""}`,l.dataset.calendarYear=String(n),l.title=String(n),l.innerText=String(n),s&&(l.tabIndex=-1),l},G=(e,t)=>{let a=t?.dataset.calendarSelectedYear?Number(t?.dataset.calendarSelectedYear):e.selectedYear;e.currentType="year",z(e,t),x(e),j(e);let s=e.HTMLElement.querySelector(`.${e.CSSClasses.years}`);if(!e.settings.selection.year||!s)return;s.classList.add(e.CSSClasses.yearsSelecting);let n=e.type!=="multiple"||e.selectedYear===a?0:1,l=document.createElement("button");l.type="button";for(let i=e.viewYear-7;i<e.viewYear+8;i++){let r=i<e.dateMin.getFullYear()+n||i>e.dateMax.getFullYear(),d=pt(e,l,a,r,i);s.appendChild(d),e.actions.getYears&&e.actions.getYears(i,d,e)}},Mt=(e,t)=>{let a=t.target.closest(`.${e.CSSClasses.arrow}`);a&&(["default","multiple"].includes(e.currentType)?W(e,a.dataset.calendarArrow):e.currentType==="year"&&e.viewYear!==void 0&&(e.viewYear+={prev:-15,next:15}[a.dataset.calendarArrow],G(e,t.target)),e.actions.clickArrow&&e.actions.clickArrow(t,e))},St=(e,t)=>{var a;if(!e.settings.visibility.weekNumbers||!e.actions.clickWeekNumber)return;let s=t.target.closest(`.${e.CSSClasses.weekNumber}`),n=(a=e.HTMLElement)==null?void 0:a.querySelectorAll("[data-calendar-week-number]");if(!s||!n)return;let l=Number(s.innerText),i=Number(s.dataset.calendarYearWeek),r=Array.from(n).filter(d=>Number(d.dataset.calendarWeekNumber)===l);e.actions.clickWeekNumber(t,l,r,i,e)},Me=e=>`${e.charAt(0).toUpperCase()}${e.substring(1,e.length)}`.replace(/\./,""),bt=(e,t)=>{let a=new Date(`1978-01-0${t+1}T00:00:00.000Z`).toLocaleString(e.settings.lang,{weekday:"short",timeZone:"UTC"});e.locale.weekday.push(Me(a))},Ct=(e,t)=>{let a=new Date(`1978-${t+1<=9?`0${t+1}`:t+1}-01T00:00:00.000Z`).toLocaleString(e.settings.lang,{month:"long",timeZone:"UTC"});e.locale.months.push(Me(a))},ft=e=>{if(e.settings.lang!=="define"||!e.locale.weekday[6]||!e.locale.months[11]){if(e.settings.lang==="define")throw new Error(f.notLocale);e.locale.weekday=[],e.locale.months=[];for(let t=0;t<7;t++)bt(e,t);for(let t=0;t<12;t++)Ct(e,t)}},te=e=>{if(e.type!=="multiple")return 0;let t=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.column}`),a=Array.from(t).findIndex(s=>s.classList.contains(`${e.CSSClasses.columnMonth}`));return a>0?a:0},wt=(e,t,a,s,n,l)=>{let i=t.cloneNode(!1);return i.className=`${e.CSSClasses.monthsMonth}${a===l?` ${e.CSSClasses.monthsMonthSelected}`:n?` ${e.CSSClasses.monthsMonthDisabled}`:""}`,i.title=s,i.innerText=`${e.settings.visibility.monthShort?s.substring(0,3):s}`,i.dataset.calendarMonth=String(l),n&&(i.tabIndex=-1),i},Se=(e,t)=>{var a,s;let n=t?.dataset.calendarSelectedMonth?Number(t.dataset.calendarSelectedMonth):e.selectedMonth,l=(a=t?.closest(`.${e.CSSClasses.column}`))==null?void 0:a.querySelector(`.${e.CSSClasses.year}`),i=l?Number(l.dataset.calendarSelectedYear):e.selectedYear;e.currentType="month",z(e,t),x(e);let r=(s=e.HTMLElement)==null?void 0:s.querySelector(`.${e.CSSClasses.months}`);if(!e.settings.selection.month||!r)return;r.classList.add(e.CSSClasses.monthsSelecting);let d=e.jumpMonths>1?e.locale.months.map((c,v)=>n-e.jumpMonths*v).concat(e.locale.months.map((c,v)=>n+e.jumpMonths*v)).filter(c=>c>=0&&c<=12):Array.from(Array(12).keys()),o=document.createElement("button");o.type="button";for(let c=0;c<12;c++){let v=e.locale.months[c],h=c<e.dateMin.getMonth()+te(e)&&i<=e.dateMin.getFullYear()||c>e.dateMax.getMonth()+te(e)&&i>=e.dateMax.getFullYear()||c!==n&&!d.includes(c),y=wt(e,o,n,v,h,c);r.appendChild(y),e.actions.getMonths&&e.actions.getMonths(c,y,e)}},V=(e,t)=>e&&t?{0:{AM:"00",PM:"12"},1:{AM:"01",PM:"13"},2:{AM:"02",PM:"14"},3:{AM:"03",PM:"15"},4:{AM:"04",PM:"16"},5:{AM:"05",PM:"17"},6:{AM:"06",PM:"18"},7:{AM:"07",PM:"19"},8:{AM:"08",PM:"20"},9:{AM:"09",PM:"21"},10:{AM:"10",PM:"22"},11:{AM:"11",PM:"23"},12:{AM:"12",PM:"12"}}[Number(e)][t]:"",H=(e,t,a)=>e.querySelector(`.${t}${a?` input[name="${a}"]`:""}`),ae=(e,t,a)=>{e.addEventListener("mouseover",()=>t.classList.add(a)),e.addEventListener("mouseout",()=>t.classList.remove(a))},M=(e,t,a,s)=>{({hours:()=>{e.selectedHours=a},minutes:()=>{e.selectedMinutes=a}})[s](),e.selectedTime=`${e.selectedHours}:${e.selectedMinutes}${e.selectedKeeping?` ${e.selectedKeeping}`:""}`,e.actions.changeTime&&e.actions.changeTime(t,e),e.input&&e.HTMLInputElement&&e.actions.changeToInput&&e.actions.changeToInput(t,e)},ne=(e,t,a,s,n,l)=>{t.addEventListener("input",i=>{let r=i.target,d=Number(r.value),o=d<10?`0${d}`:`${d}`;if(n!=="hours"||l!==12)return a.value=o,void M(e,i,o,n);d<l&&d>0?(a.value=o,e.selectedKeeping="AM",s.innerText=e.selectedKeeping,M(e,i,o,n)):(d===0?(e.selectedKeeping="AM",s.innerText="AM"):(e.selectedKeeping="PM",s.innerText="PM"),a.value=T(r.value),M(e,i,T(r.value),n))})},se=(e,t,a,s,n,l)=>{a.addEventListener("change",i=>{let r=i.target,d=Number(r.value),o=d<10?`0${d}`:`${d}`;n==="hours"&&l===12?r.value&&d<=l&&d>0?(r.value=o,t.value=V(o,e.selectedKeeping),M(e,i,o,n)):r.value&&d<24&&(d>l||d===0)?(d===0?(e.selectedKeeping="AM",s.innerText="AM"):(e.selectedKeeping="PM",s.innerText="PM"),r.value=T(r.value),t.value=o,M(e,i,T(r.value),n)):r.value=e.selectedHours:r.value&&d<=l&&d>=0?(r.value=o,t.value=o,M(e,i,o,n)):n==="hours"?r.value=e.selectedHours:n==="minutes"&&(r.value=e.selectedMinutes)})},Tt=(e,t,a)=>{t.addEventListener("click",s=>{e.selectedKeeping=t.innerText.includes("AM")?"PM":"AM",t.innerText=e.selectedKeeping,a.value=V(e.selectedHours,e.selectedKeeping),M(e,s,e.selectedHours,"hours")})},Dt=(e,t,a)=>{let s=a===24?23:a||12,n=H(t,e.CSSClasses.timeRange,"hours"),l=H(t,e.CSSClasses.timeRange,"minutes"),i=H(t,e.CSSClasses.timeHours,"hours"),r=H(t,e.CSSClasses.timeMinutes,"minutes"),d=t.querySelector(`.${e.CSSClasses.timeKeeping}`);ae(n,i,e.CSSClasses.isFocus),ae(l,r,e.CSSClasses.isFocus),ne(e,n,i,d,"hours",s),ne(e,l,r,d,"minutes",0),se(e,n,i,d,"hours",s),se(e,l,r,d,"minutes",59),d&&Tt(e,d,n)},le=(e,t,a,s)=>`<label class="${t}"><input type="text"name="${e}"maxlength="2"value="${a}"${s?"disabled":""}></label>`,ie=(e,t,a,s,n,l)=>`<label class="${t}"><input type="range"name="${e}"min="${a}"max="${s}"step="${n}"value="${l}"></label>`,Lt=e=>{let t=e.HTMLElement.querySelector(`.${e.CSSClasses.time}`);if(!t)return;let a=e.settings.selection.time===!0?12:e.settings.selection.time,s=e.settings.selection.controlTime==="range",[n,l]=[0,23],[i,r]=[0,59];t.innerHTML=e.sanitizer(`<div class="${e.CSSClasses.timeContent}">${le("hours",e.CSSClasses.timeHours,e.selectedHours,s)}${le("minutes",e.CSSClasses.timeMinutes,e.selectedMinutes,s)}${a===12?`<button type="button" class="${e.CSSClasses.timeKeeping}"${s?"disabled":""}>${e.selectedKeeping}</button>`:""}</div><div class="${e.CSSClasses.timeRanges}">${ie("hours",e.CSSClasses.timeRange,n,l,e.settings.selection.stepHours,e.selectedKeeping?V(e.selectedHours,e.selectedKeeping):e.selectedHours)}${ie("minutes",e.CSSClasses.timeRange,i,r,e.settings.selection.stepMinutes,e.selectedMinutes)}</div>`),Dt(e,t,a)},Et=(e,t,a)=>{let s=document.createElement("b");t.textContent="";for(let n=0;n<a.length;n++){let l=a[n],i=s.cloneNode(!0);i.className=`${e.CSSClasses.weekDay}`,i.className=`${e.CSSClasses.weekDay}${e.settings.visibility.weekend&&e.settings.iso8601?n===5||n===6?` ${e.CSSClasses.weekDayWeekend}`:"":e.settings.visibility.weekend&&!e.settings.iso8601&&(n===0||n===6)?` ${e.CSSClasses.weekDayWeekend}`:""}`,i.innerText=`${l}`,t.appendChild(i)}},re=e=>{let t=[...e.locale.weekday];t[0]&&(e.settings.iso8601&&t.push(t.shift()),e.HTMLElement.querySelectorAll(`.${e.CSSClasses.week}`).forEach(a=>Et(e,a,t)))},be=["light","dark","system"],$={value:!1,set:()=>{$.value=!0},check:()=>$.value},Ce=(e,t)=>be.find(a=>{var s;return a!=="system"&&((s=e.getAttribute(t))==null?void 0:s.includes(a))}),S=(e,t)=>{e.dataset.calendarTheme=t},de=(e,t)=>{var a;if(a=t,S(e.HTMLElement,a.matches?"dark":"light"),e.settings.visibility.theme!=="system"||$.check())return;let s=n=>{let l=document.querySelectorAll(`.${e.CSSClasses.calendar}`);l?.forEach(i=>S(i,n.matches?"dark":"light"))};t.addEventListener?t.addEventListener("change",s):t.addListener(s),$.set()},Ht=(e,t,a)=>{new MutationObserver(s=>{for(let n=0;n<s.length;n++)if(s[n].attributeName===a){let l=Ce(t,a);l&&S(e.HTMLElement,l);break}}).observe(t,{attributes:!0})},_t=(e,t)=>{let a=e.settings.visibility.themeDetect?document.querySelector(e.settings.visibility.themeDetect):null;if(!a)return void de(e,t);let s=e.settings.visibility.themeDetect.replace(/^.*\[(.+)\]/g,(l,i)=>i),n=Ce(a,s);n?(S(e.HTMLElement,n),Ht(e,a,s)):de(e,t)},$t=e=>{if(!be.includes(e.settings.visibility.theme))throw new Error(f.incorrectTheme);if(window.matchMedia("(prefers-color-scheme)").media==="not all")return void S(e.HTMLElement,"light");({light:()=>S(e.HTMLElement,"light"),dark:()=>S(e.HTMLElement,"dark"),system:()=>_t(e,window.matchMedia("(prefers-color-scheme: dark)"))})[e.settings.visibility.theme]()},D=e=>{let t={default:()=>{re(e),_(e)},multiple:()=>{re(e),_(e)},month:()=>Se(e),year:()=>G(e)};$t(e),ft(e),z(e),x(e),j(e),Lt(e),t[e.currentType]()},m={self:null,rangeMin:void 0,rangeMax:void 0},oe=()=>{var e;if(!((e=m.self)!=null&&e.HTMLElement))return;let{CSSClasses:t}=m.self;m.self.HTMLElement.querySelectorAll(`.${m.self.CSSClasses.dayBtnHover}`).forEach(a=>{var s;a.classList.remove(m.self.CSSClasses.dayBtnHover),(s=a.parentElement)==null||s.classList.remove(t.dayHoverIntermediate,t.dayHoverFirst,t.dayHoverLast)})},kt=(e,t,a)=>{var s,n,l;if(!((s=m.self)!=null&&s.selectedDates))return;let i=p(e),{CSSClasses:r}=m.self;if((n=m.self.rangeDisabled)!=null&&n.includes(i))return;let d=(l=m.self.HTMLElement)==null?void 0:l.querySelectorAll(`[data-calendar-day="${i}"]`);d?.forEach(o=>{var c;o.classList.add(r.dayBtnHover),(c=o.parentElement)==null||c.classList.add(r.dayHoverIntermediate)}),t?.forEach(o=>{var c;return(c=o.parentElement)==null?void 0:c.classList.add(r.dayHoverFirst)}),a?.forEach(o=>{var c;return(c=o.parentElement)==null?void 0:c.classList.add(r.dayHoverLast)})},O=e=>{var t;if(!e.target||!((t=m.self)!=null&&t.selectedDates))return;if(!e.target.closest(`.${m.self.CSSClasses.days}`))return void oe();let a=e.target.closest("[data-calendar-day]");if(!a)return;let s=a.dataset.calendarDay,n=g(m.self.selectedDates[0]),l=g(s),i=m.self.HTMLElement.querySelectorAll(`[data-calendar-day="${m.self.selectedDates[0]}"]`),r=m.self.HTMLElement.querySelectorAll(`[data-calendar-day="${s}"]`),[d,o]=n<l?[i,r]:[r,i],[c,v]=n<l?[n,l]:[l,n];oe();for(let h=new Date(c);h<=v;h.setDate(h.getDate()+1))kt(h,d,o)},B=e=>{m.self&&e.key==="Escape"&&(m.self.selectedDates=[],m.self.HTMLElement.removeEventListener("mousemove",O),document.removeEventListener("keydown",B),D(m.self))},xt=()=>{var e,t,a;if(!((t=(e=m.self)==null?void 0:e.selectedDates)!=null&&t[0])||!((a=m.self.rangeDisabled)!=null&&a[0]))return;let s=g(m.self.selectedDates[0]),[n,l]=m.self.rangeDisabled.map(i=>g(i)).reduce(([i,r],d)=>[s>=d?d:i,s<d&&r===null?d:r],[null,null]);n&&(m.self.rangeMin=p(new Date(n.setDate(n.getDate()+1)))),l&&(m.self.rangeMax=p(new Date(l.setDate(l.getDate()-1))))};var fe=(e,t)=>{var a;if(t){let s=e.selectedDates.length===1&&e.selectedDates[0].includes(t);e.selectedDates=s&&!e.settings.selection.cancelableDay?[t,t]:s&&e.settings.selection.cancelableDay?[]:e.selectedDates.length>1?[t]:[...e.selectedDates,t],(a=e.selectedDates)==null||a.sort((n,l)=>+new Date(n)-+new Date(l))}e.settings.range.disableGaps&&(m.rangeMin=m.rangeMin?m.rangeMin:e.rangeMin,m.rangeMax=m.rangeMax?m.rangeMax:e.rangeMax),m.self=e,{set:()=>{e.HTMLElement.addEventListener("mousemove",O),document.addEventListener("keydown",B),e.settings.range.disableGaps&&xt()},reset:()=>{let[s,n]=[e.selectedDates[0],e.selectedDates[e.selectedDates.length-1]];e.selectedDates=e.selectedDates[0]!==e.selectedDates[e.selectedDates.length-1]?e.settings.range.edgesOnly?[s,n]:C([`${s}:${n}`]):[e.selectedDates[0],e.selectedDates[0]],e.HTMLElement.removeEventListener("mousemove",O),document.removeEventListener("keydown",B),e.settings.range.disableGaps&&m.self&&(m.self.rangeMin=m.rangeMin,m.self.rangeMax=m.rangeMax)}}[e.selectedDates.length===1?"set":"reset"]()},ce=(e,t,a)=>{if(!t.dataset.calendarDay)return;let s=t.dataset.calendarDay,n=t.classList.contains(e.CSSClasses.dayBtnSelected);if(n&&!e.settings.selection.cancelableDay)return;let l=!0;e.toggleSelected!==void 0&&(l=typeof e.toggleSelected=="function"?e.toggleSelected(e):e.toggleSelected),n&&!l||(e.selectedDates=n?e.selectedDates.filter(i=>i!==s):a?[...e.selectedDates,s]:[s])},Yt=(e,t)=>{var a;let s=t.target,n=d=>s.closest(`.${d}`),l=n(e.CSSClasses.dayBtn);if(!e.settings.selection.day||!["single","multiple","multiple-ranged"].includes(e.settings.selection.day)||!l)return;({single:()=>ce(e,l,!1),multiple:()=>ce(e,l,!0),"multiple-ranged":()=>fe(e,l.dataset.calendarDay)})[e.settings.selection.day](),(a=e.selectedDates)==null||a.sort((d,o)=>+new Date(d)-+new Date(o)),e.actions.clickDay&&e.actions.clickDay(t,e),e.input&&e.HTMLInputElement&&e.HTMLElement&&e.actions.changeToInput&&e.actions.changeToInput(t,e);let i=n(e.CSSClasses.dayBtnPrev),r=n(e.CSSClasses.dayBtnNext);({prev:()=>W(e,"prev"),next:()=>W(e,"next"),default:()=>_(e)})[i?"prev":r?"next":"default"]()},ue=(e,t,a,s,n)=>{let l=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.column}`),i=Array.from(l).findIndex(d=>d.classList.contains(t)),r=Number(l[i].querySelector(`.${a}`).getAttribute(n));return e.currentType==="month"&&i>=0?s-i:e.currentType==="year"&&e.selectedYear!==r?s-1:s},At=(e,t,a,s,n)=>{let l={year:()=>{var i,r;return(r=(i=e.actions).clickYear)==null?void 0:r.call(i,t,e)},month:()=>{var i,r;return(r=(i=e.actions).clickMonth)==null?void 0:r.call(i,t,e)}};({year:()=>{if(e.type==="multiple"){let i=ue(e,e.CSSClasses.columnYear,e.CSSClasses.year,Number(n.dataset.calendarYear),"data-calendar-selected-year"),r=e.selectedMonth<e.dateMin.getMonth()&&i<=e.dateMin.getFullYear(),d=e.selectedMonth>e.dateMax.getMonth()&&i>=e.dateMax.getFullYear(),o=i<e.dateMin.getFullYear(),c=i>e.dateMax.getFullYear();r||o?(e.selectedYear=e.dateMin.getFullYear(),e.selectedMonth=e.dateMin.getMonth()):d||c?(e.selectedYear=e.dateMax.getFullYear(),e.selectedMonth=e.dateMax.getMonth()):e.selectedYear=i}else e.selectedYear=Number(n.dataset.calendarYear)},month:()=>{if(e.type==="multiple"){let i=ue(e,e.CSSClasses.columnMonth,e.CSSClasses.month,Number(n.dataset.calendarMonth),"data-calendar-selected-month"),r=n.closest(`.${s.column}`).querySelector(`.${e.CSSClasses.year}`);e.selectedYear=Number(r.dataset.calendarSelectedYear);let d=i<e.dateMin.getMonth()&&e.selectedYear<=e.dateMin.getFullYear(),o=i>e.dateMax.getMonth()&&e.selectedYear>=e.dateMax.getFullYear();e.selectedMonth=d?e.dateMin.getMonth():o?e.dateMax.getMonth():i}else e.selectedMonth=Number(n.dataset.calendarMonth)}})[a](),l[a](),e.currentType=e.type,D(e)},me=(e,t,a,s)=>{if(!e.settings.selection[a])return;let n=t.target,l=c=>n.closest(`.${c}`),i=l(s.header),r=l(s.item),d=l(e.CSSClasses.grid),o=l(e.CSSClasses.column);e.currentType!==a&&i?{year:()=>G(e,n),month:()=>Se(e,n)}[a]():r?At(e,t,a,s,r):(e.currentType===a&&i||e.type==="multiple"&&e.currentType===a&&d&&!o)&&(e.currentType=e.type,D(e))},we=e=>{let t=a=>{Mt(e,a),St(e,a),Yt(e,a),me(e,a,"month",{header:e.CSSClasses.month,item:e.CSSClasses.monthsMonth,column:e.CSSClasses.columnMonth}),me(e,a,"year",{header:e.CSSClasses.year,item:e.CSSClasses.yearsYear,column:e.CSSClasses.columnYear})};return e.HTMLElement.addEventListener("click",t),()=>e.HTMLElement.removeEventListener("click",t)},Te=(e,{year:t,month:a,dates:s,holidays:n,time:l}={})=>{var i;let r=ve({},e.settings.selected);e.settings.selected.year=t?r.year:e.selectedYear,e.settings.selected.month=a?r.month:e.selectedMonth,e.settings.selected.holidays=n?r.holidays:e.selectedHolidays,e.settings.selected.time=l?r.time:e.selectedTime,e.settings.selected.dates=s==="only-first"&&((i=e.selectedDates)!=null&&i[0])?[e.selectedDates[0]]:s===!0?r.dates:e.selectedDates,ge(e),D(e),e.settings.selected=r,e.settings.selection.day==="multiple-ranged"&&s&&fe(e)},De=(e,t=!0)=>{e.isInputInit=!0;let a=document.createElement("div");return a.className=`${e.CSSClasses.calendar} ${e.CSSClasses.calendarToInput} ${e.CSSClasses.calendarHidden}`,e.HTMLElement=a,document.body.appendChild(e.HTMLElement),e.HTMLElement.style.visibility="hidden",t&&queueMicrotask(()=>{F(e.HTMLInputElement,a,e.settings.visibility.positionToInput,e.CSSClasses),e.HTMLElement.style.visibility="visible",e.show()}),Te(e,{year:!0,month:!0,dates:!0,holidays:!0,time:!0}),e.actions.initCalendar&&e.actions.initCalendar(e),we(e)},Nt=e=>{let t=[];e.HTMLInputElement=e.HTMLElement;let a=()=>F(e.HTMLInputElement,e.HTMLElement,e.settings.visibility.positionToInput,e.CSSClasses),s=i=>{i.key==="Escape"&&(e?.HTMLInputElement&&e?.HTMLElement&&e.hide(),document.removeEventListener("keydown",s))},n=i=>{var r;e&&i.target!==e.HTMLInputElement&&!((r=e.HTMLElement)!=null&&r.contains(i.target))&&(e.HTMLInputElement&&e.HTMLElement&&e.hide(),window.removeEventListener("resize",a),document.removeEventListener("click",n,{capture:!0}))},l=()=>{e.isInputInit?(F(e.HTMLInputElement,e.HTMLElement,e.settings.visibility.positionToInput,e.CSSClasses),e.HTMLElement.style.visibility="visible",e.show()):t.push(De(e)),window.addEventListener("resize",a),document.addEventListener("click",n,{capture:!0}),document.addEventListener("keydown",s)};return e.HTMLInputElement.addEventListener("click",l),e.HTMLInputElement.addEventListener("focus",l),()=>{t.forEach(i=>i())}};var It=(e,{year:t,month:a,dates:s,holidays:n,time:l}={})=>{if(!e.isInit)throw new Error(f.notInit);e.input&&!e.isInputInit&&De(e,!1),Te(e,{year:t,month:a,dates:s,holidays:n,time:l}),e.actions.updateCalendar&&e.actions.updateCalendar(e)},qt=e=>{var t,a,s,n,l,i;if(!e.isInit)throw new Error(f.notInit);e.input?((a=(t=e.HTMLElement)==null?void 0:t.parentElement)==null||a.removeChild(e.HTMLElement),(n=(s=e.HTMLInputElement)==null?void 0:s.replaceWith)==null||n.call(s,e.HTMLOriginalElement),e.HTMLInputElement=void 0):(i=(l=e.HTMLElement)==null?void 0:l.replaceWith)==null||i.call(l,e.HTMLOriginalElement),e.HTMLElement=e.HTMLOriginalElement,e.actions.destroyCalendar&&e.actions.destroyCalendar(e)};var k=class extends P{constructor(t,a){if(super(),u(this,"init",()=>{return(n=this).HTMLOriginalElement=n.HTMLElement.cloneNode(!0),n.isInit=!0,n.input?Nt(n):(ge(n),D(n),n.actions.initCalendar&&n.actions.initCalendar(n),we(n));var n}),u(this,"update",n=>It(this,n)),u(this,"destroy",()=>qt(this)),u(this,"show",()=>{var n;(n=this).currentType?(n.HTMLElement.classList.remove(n.CSSClasses.calendarHidden),n.actions.showCalendar&&n.actions.showCalendar(n)):n.HTMLElement.click()}),u(this,"hide",()=>{var n;(n=this).currentType&&(n.HTMLElement.classList.add(n.CSSClasses.calendarHidden),n.actions.hideCalendar&&n.actions.hideCalendar(n))}),this.HTMLElement=typeof t=="string"?document.querySelector(t):t,!this.HTMLElement)throw new Error(f.notFoundSelector(t));if(!a)return;let s=(n,l)=>{Object.keys(l).forEach(i=>{typeof n[i]!="object"||typeof l[i]!="object"||l[i]instanceof Date?n[i]=l[i]:s(n[i],l[i])})};s(this,a)}};var L="",Y=document.querySelector(".overlay"),Pt=window.innerWidth>=767.98?"desktop":"mobile",Ft=e=>e==="desktop"?{DOMTemplates:{multiple:`
				<div class="vanilla-calendar-container">
					<div class="vanilla-calendar-choices">
						<div class="vanilla-calendar-choices__item">
							<div class="vanilla-calendar-choices__caption">Заезд</div>
							<div class="vanilla-calendar-choices__value" id="vanilla-calendar-value-from"></div>
						</div>
						<div class="vanilla-calendar-choices__item">
							<div class="vanilla-calendar-choices__caption">Выезд</div>
							<div class="vanilla-calendar-choices__value" id="vanilla-calendar-value-to">
							</div>
						</div>
					</div>
					<div class="vanilla-calendar-grid">
						<#Multiple>
						<div class="vanilla-calendar-column">
							<div class="vanilla-calendar-header">
								<#ArrowPrev />
							<div class="vanilla-calendar-header__content">
								<#Month />
								<#Year />
							</div>
							<#ArrowNext />
							</div>
							<div class="vanilla-calendar-wrapper">
							<#WeekNumbers />
							<div class="vanilla-calendar-content">
								<#Week />
								<#Days />
							</div>
							</div>
						</div>
						<#/Multiple>
					</div>
					<div class="vanilla-calendar-footer">
						<div class="vanilla-calendar-footer__buttons">
						<button class="vanilla-calendar-button vanilla-calendar-button-reset btn btn-blue-transparent" id="vanilla-calendar-button-reset" type="button">Сбросить</button>
						<button class="vanilla-calendar-button vanilla-calendar-button-add btn btn-blue" id="vanilla-calendar-button-add" type="button">Применить</button>
						</div>
					</div> 
					<#ControlTime />
				</div>
				`},input:!0,type:"multiple",settings:{lang:"ru",range:{disablePast:!0},selection:{day:"multiple-ranged"},visibility:{weekend:!1,daysOutside:!1}}}:{DOMTemplates:{default:`
					<div class="vanilla-calendar-container">
						<div class="vanilla-calendar-choices">
							<div class="vanilla-calendar-choices__item">
								<div class="vanilla-calendar-choices__caption">Заезд</div>
								<div class="vanilla-calendar-choices__value" id="vanilla-calendar-value-from"></div>
							</div>
							<div class="vanilla-calendar-choices__item">
								<div class="vanilla-calendar-choices__caption">Выезд</div>
								<div class="vanilla-calendar-choices__value" id="vanilla-calendar-value-to">
								</div>
							</div>
						</div>
						<div class="vanilla-calendar-header">
							<#ArrowPrev />
							<div class="vanilla-calendar-header__content">
							<#Month />
							<#Year />
							</div>
							<#ArrowNext />
						</div>
						<div class="vanilla-calendar-wrapper">
							<#WeekNumbers />
							<div class="vanilla-calendar-content">
							<#Week />
							<#Days />
							</div>
						</div>
						<div class="vanilla-calendar-footer">
							<div class="vanilla-calendar-footer__buttons">
								<button class="vanilla-calendar-button vanilla-calendar-button-reset btn btn-blue-transparent" id="vanilla-calendar-button-reset" type="button">Сбросить</button>
								<button class="vanilla-calendar-button vanilla-calendar-button-add btn btn-blue" id="vanilla-calendar-button-add" type="button">Применить</button>
							</div>
						</div> 
					<#ControlTime />
				</div> 
				`},type:"default",input:!0,settings:{lang:"ru",selection:{day:"multiple-ranged"},visibility:{weekend:!1,daysOutside:!1}}},Wt=Ft(Pt),Ot={...Wt,actions:{changeToInput(e,t){t.HTMLInputElement&&(t.selectedDates[1]?(t.selectedDates.sort((a,s)=>+new Date(a)-+new Date(s)),t.HTMLInputElement.value=`${t.selectedDates[0]} — ${t.selectedDates[t.selectedDates.length-1]}`):t.selectedDates[0]?t.HTMLInputElement.value=t.selectedDates[0]:t.HTMLInputElement.value="")},clickDay(e,t){let a=t.HTMLElement.querySelector("#vanilla-calendar-value-from"),s=t.HTMLElement.querySelector("#vanilla-calendar-value-to"),n=document.querySelector('input[name="date_from"]'),l=document.querySelector('input[name="date_to"]'),i=document.querySelector('input[name="count_night"]'),r=t.HTMLElement.querySelector(".vanilla-calendar-choices"),d=t.selectedDates[0],o=t.selectedDates.at(-1),c=t.HTMLElement.querySelector("#vanilla-calendar-button-add"),v=t.HTMLElement.querySelector("#vanilla-calendar-button-reset");r&&d&&r.classList.add("active"),a&&(a.textContent=d.split("-").reverse().join(".")),s&&(s.textContent=o.split("-").reverse().join(".")),n&&(n.value=d),l&&(l.value=o),i&&(i.value=He(d,o)),(d!==""||o!=="")&&(c?.removeAttribute("disabled"),v?.removeAttribute("disabled"));let h=He(d,o),y=Bt(h,"ночь","ночи","ночей"),b=Ee(new Date(d)),N=Ee(new Date(o)),I=Le(d),ke=Le(o);L=`${I} ${b} - ${ke} ${N}, ${h} ${y}`,console.log(L)},hideCalendar(e){let t=document.querySelector("#calendar-input");t&&t.classList.remove("active")},showCalendar(e){let t=e.HTMLElement.querySelector("#vanilla-calendar-button-add"),a=e.HTMLElement.querySelector("#vanilla-calendar-button-reset"),s=document.querySelector("#calendar-input"),n=document.querySelectorAll(".custom-dropdown__btn"),l=e.HTMLElement.querySelector(".vanilla-calendar-container"),i=e.HTMLElement;window.innerWidth<=767.98&&(i.addEventListener("click",()=>{}),l&&l.addEventListener("click",r=>{})),n&&n.forEach(r=>{r.classList.remove("active")}),s&&s.classList.add("active"),t&&((e.selectedDates[0]==null||e.selectedDates[e.selectedDates.length-1]==null)&&(t.setAttribute("disabled",!0),a.setAttribute("disabled",!0)),t.addEventListener("click",()=>{s&&(s.innerHTML=L),e.hide(),window.innerWidth<=767.98&&(e.HTMLElement.classList.remove("active"),Y?.classList.remove("active"))})),a&&(a.addEventListener("click",()=>{s&&(s.innerHTML=L),a.setAttribute("disabled",!0),t?.setAttribute("disabled",!0);let r=e.HTMLElement.querySelector("#vanilla-calendar-value-from"),d=e.HTMLElement.querySelector("#vanilla-calendar-value-to"),o=document.querySelector('input[name="date_from"]'),c=document.querySelector('input[name="date_to"]'),v=document.querySelector('input[name="count_night"]'),h=e.HTMLElement.querySelectorAll(".vanilla-calendar-day__btn"),y=e.HTMLElement.querySelector(".vanilla-calendar-choices");y&&y.classList.remove("active"),h&&[...h].forEach(b=>{b.classList.remove("vanilla-calendar-day__btn_selected")}),r&&(r.textContent=""),d&&(d.textContent=""),o&&(o.value=""),c&&(c.value=""),v&&(v.value=""),e.selectedDates=[],console.log(e),L=""}),Y&&window.innerWidth<=767.98&&Y.addEventListener("click",()=>{e.HTMLElement.classList.remove("active")})),window.innerWidth<=767.98&&(Y?.classList.add("active"),e.HTMLElement.classList.add("active"))}}},Le=e=>e.split("-").reverse()[0],Ee=(e=new Date)=>e.toLocaleString("ru",{month:"long",day:"numeric"}).split(" ")[1];function He(e,t){let a=new Date(e),s=new Date(t),n=1e3*3600*24,l=s.getTime()-a.getTime();return Math.round(l/n)}function Bt(e,t,a,s){let n=Math.abs(e);return n%=100,n>=5&&n<=20?s:(n%=10,n===1?t:n>=2&&n<=4?a:s)}var _e=document.getElementById("calendar-input");_e&&new k(_e,Ot).init();var Z=document.querySelector("#calendar-input");Z&&Z.addEventListener("click",()=>{Z.classList.contains("active")?console.log("act"):console.log("not act")});J();var jt=document.querySelectorAll(".choice-dropdown__item"),Kt=document.querySelector('input[name="count_adults"]'),Rt=document.querySelector('input[name="count_children"]'),U=Kt?.value,X=Rt?.value;for(let e of jt){let t=e.querySelector(".button-plus"),a=e.querySelector(".button-minus"),s=e.querySelector(".choice-dropdown__input"),n=e.querySelector(".choice-dropdown__count"),l=0;a.addEventListener("click",i=>{console.log("minus"),l--,l=l>=0?l:0,s?.getAttribute("name")==="count_adults"&&(s.value=`
            ${l+" "+A(l,"взрослый","взрослых","взрослых")}`,n.innerHTML=`${s.value}`,U=s.value),s?.getAttribute("name")==="count_children"&&(s.value=`
            ${l+" "+A(l,"ребенок","детей","детей")}`,n.innerHTML=`${s.value}`,X=s.value)}),t.addEventListener("click",i=>{l++,n.innerHTML=`${l}`,s.value=parseInt(l)+1,s?.getAttribute("name")==="count_adults"&&(s.value=`
            ${l+" "+A(l,"взрослый","взрослых","взрослых")}`,n.innerHTML=`${s.value}`,U=s.value.trim("")),s?.getAttribute("name")==="count_children"&&(s.value=`
            ${l+" "+A(l,"ребенок","детей","детей")}`,n.innerHTML=`${s.value}`,X=s.value.trim(""))})}var $e=document.querySelector(".choice-dropdown__save-btn"),zt=document.querySelector(".overlay");$e&&$e.addEventListener("click",e=>{console.log("save");let t=e.target.closest(".form-item").querySelector(".custom-dropdown__btn");if(t){let a=t.querySelector(".custom-dropdown__btn-text");a.innerHTML=U+", "+X,t.classList.contains("active")&&t.classList.remove("active")}zt?.classList.remove("active")});function A(e,t,a,s){let n=Math.abs(e);return n%=100,n>=5&&n<=20?s:(n%=10,n===1?t:n>=2&&n<=4?a:s)}
/*! Bundled license information:

vanilla-calendar-pro/build/vanilla-calendar.min.mjs:
  (*! name: vanilla-calendar-pro v2.9.9 | url: https://github.com/uvarov-frontend/vanilla-calendar-pro *)
*/
