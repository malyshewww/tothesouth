{
  "version": 3,
  "sources": ["../../../src/scripts/modules/dynamic_adapt.ts", "../../../src/scripts/main.ts"],
  "sourcesContent": ["export class DynamicAdapt {\r\n\tconstructor(type) {\r\n\t\tthis.type = type;\r\n\t}\r\n\r\n\tinit() {\r\n\t\t// массив объектов\r\n\t\tthis.оbjects = [];\r\n\t\tthis.daClassname = '_dynamic_adapt_';\r\n\t\t// массив DOM-элементов\r\n\t\tthis.nodes = [...document.querySelectorAll('[data-da]')];\r\n\r\n\t\t// наполнение оbjects объктами\r\n\t\tthis.nodes.forEach((node) => {\r\n\t\t\tconst data = node.dataset.da.trim();\r\n\t\t\tconst dataArray = data.split(',');\r\n\t\t\tconst оbject = {};\r\n\t\t\tоbject.element = node;\r\n\t\t\tоbject.parent = node.parentNode;\r\n\t\t\tоbject.destination = document.querySelector(`${dataArray[0].trim()}`);\r\n\t\t\tоbject.breakpoint = dataArray[1] ? dataArray[1].trim() : '767';\r\n\t\t\tоbject.place = dataArray[2] ? dataArray[2].trim() : 'last';\r\n\t\t\tоbject.index = this.indexInParent(оbject.parent, оbject.element);\r\n\t\t\tthis.оbjects.push(оbject);\r\n\t\t});\r\n\r\n\t\tthis.arraySort(this.оbjects);\r\n\r\n\t\t// массив уникальных медиа-запросов\r\n\t\tthis.mediaQueries = this.оbjects\r\n\t\t\t.map(({ breakpoint }) => `(${this.type}-width: ${breakpoint}px),${breakpoint}`)\r\n\t\t\t.filter((item, index, self) => self.indexOf(item) === index);\r\n\r\n\t\t// навешивание слушателя на медиа-запрос\r\n\t\t// и вызов обработчика при первом запуске\r\n\t\tthis.mediaQueries.forEach((media) => {\r\n\t\t\tconst mediaSplit = media.split(',');\r\n\t\t\tconst matchMedia = window.matchMedia(mediaSplit[0]);\r\n\t\t\tconst mediaBreakpoint = mediaSplit[1];\r\n\r\n\t\t\t// массив объектов с подходящим брейкпоинтом\r\n\t\t\tconst оbjectsFilter = this.оbjects.filter(({ breakpoint }) => breakpoint === mediaBreakpoint);\r\n\t\t\tmatchMedia.addEventListener('change', () => {\r\n\t\t\t\tthis.mediaHandler(matchMedia, оbjectsFilter);\r\n\t\t\t});\r\n\t\t\tthis.mediaHandler(matchMedia, оbjectsFilter);\r\n\t\t});\r\n\t}\r\n\r\n\t// Основная функция\r\n\tmediaHandler(matchMedia, оbjects) {\r\n\t\tif (matchMedia.matches) {\r\n\t\t\tоbjects.forEach((оbject) => {\r\n\t\t\t\t// оbject.index = this.indexInParent(оbject.parent, оbject.element);\r\n\t\t\t\tthis.moveTo(оbject.place, оbject.element, оbject.destination);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tоbjects.forEach(({ parent, element, index }) => {\r\n\t\t\t\tif (element.classList.contains(this.daClassname)) {\r\n\t\t\t\t\tthis.moveBack(parent, element, index);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t// Функция перемещения\r\n\tmoveTo(place, element, destination) {\r\n\t\telement.classList.add(this.daClassname);\r\n\t\tif (place === 'last' || place >= destination.children.length) {\r\n\t\t\tdestination.append(element);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (place === 'first') {\r\n\t\t\tdestination.prepend(element);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdestination.children[place].before(element);\r\n\t}\r\n\r\n\t// Функция возврата\r\n\tmoveBack(parent, element, index) {\r\n\t\telement.classList.remove(this.daClassname);\r\n\t\tif (parent.children[index] !== undefined) {\r\n\t\t\tparent.children[index].before(element);\r\n\t\t} else {\r\n\t\t\tparent.append(element);\r\n\t\t}\r\n\t}\r\n\r\n\t// Функция получения индекса внутри родителя\r\n\tindexInParent(parent, element) {\r\n\t\treturn [...parent.children].indexOf(element);\r\n\t}\r\n\r\n\t// Функция сортировки массива по breakpoint и place\r\n\t// по возрастанию для this.type = min\r\n\t// по убыванию для this.type = max\r\n\tarraySort(arr) {\r\n\t\tif (this.type === 'min') {\r\n\t\t\tarr.sort((a, b) => {\r\n\t\t\t\tif (a.breakpoint === b.breakpoint) {\r\n\t\t\t\t\tif (a.place === b.place) {\r\n\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (a.place === 'first' || b.place === 'last') {\r\n\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (a.place === 'last' || b.place === 'first') {\r\n\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t\treturn a.breakpoint - b.breakpoint;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tarr.sort((a, b) => {\r\n\t\t\t\tif (a.breakpoint === b.breakpoint) {\r\n\t\t\t\t\tif (a.place === b.place) {\r\n\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (a.place === 'first' || b.place === 'last') {\r\n\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (a.place === 'last' || b.place === 'first') {\r\n\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t\treturn b.breakpoint - a.breakpoint;\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n}\r\n", "// import { BaseHelpers } from './helpers/base-helpers';\n\n// BaseHelpers.addLoadedClass();\n\n// import { DynamicAdaptive } from './modules/dynamic-adapt';\nimport { DynamicAdapt } from './modules/dynamic_adapt';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\tconst da = new DynamicAdapt('max');\n\tda.init();\n\tfunction changePositionButton() {\n\t\tconst textClamps = document.querySelectorAll('.text-clamp');\n\t\tif (textClamps) {\n\t\t\ttextClamps.forEach((text) => {\n\t\t\t\tconst button = text.querySelector('.btn-detail');\n\t\t\t\tif (text?.scrollHeight > text?.getBoundingClientRect().height + 1) {\n\t\t\t\t\tbutton?.classList.add('changed');\n\t\t\t\t} else {\n\t\t\t\t\tbutton?.classList.remove('changed');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\tchangePositionButton();\n\twindow.addEventListener('resize', changePositionButton);\n});\n"],
  "mappings": "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",
  "names": []
}
