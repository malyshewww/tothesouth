{
  "version": 3,
  "sources": ["../../../src/scripts/city.ts"],
  "sourcesContent": ["import './modules/dropdown';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tdocument.addEventListener('click', handleClicks);\r\n\r\n\tfunction handleClicks(e) {\r\n\t\tconst target = e.target as HTMLElement;\r\n\t\tif (target.matches('.navigation-city__link') && target.parentNode.classList.contains('expanded')) {\r\n\t\t\te.preventDefault();\r\n\t\t\tif (target.classList.contains('show')) {\r\n\t\t\t\ttarget.classList.remove('show');\r\n\t\t\t} else {\r\n\t\t\t\ttarget.classList.add('show');\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!target.matches('.navigation-city__link')) {\r\n\t\t\tconst links = document.querySelectorAll('.navigation-city__link') as HTMLCollection;\r\n\t\t\tlinks.forEach((link) => link.classList.remove('show'));\r\n\t\t}\r\n\t}\r\n\tdocument.addEventListener('click', documentActions);\r\n\r\n\tconst asideForm = document.querySelector('.aside-form');\r\n\tconst overlay = document.querySelector('.overlay');\r\n\tconst sortingBlock = document.querySelector('.sorting');\r\n\tconst filter = document.querySelector('.filter');\r\n\r\n\tfunction documentActions(event) {\r\n\t\tlet target = event.target;\r\n\t\tif (target.closest('.filter-button-mobile')) {\r\n\t\t\tasideForm?.classList.add('active');\r\n\t\t\tdocument.body.classList.add('lock');\r\n\t\t\toverlay?.classList.add('active');\r\n\t\t}\r\n\t\tif (\r\n\t\t\ttarget.closest('.form-heading__close') ||\r\n\t\t\ttarget.closest('.aside-form .btn-submit') ||\r\n\t\t\ttarget.closest('.overlay') ||\r\n\t\t\ttarget.closest('.filter .btn')\r\n\t\t) {\r\n\t\t\tasideForm?.classList.remove('active');\r\n\t\t\tdocument.body.classList.remove('lock');\r\n\t\t\toverlay?.classList.remove('active');\r\n\t\t\tfilter?.classList.remove('active');\r\n\t\t}\r\n\t\tif (target.matches('.sorting-button-mobile')) {\r\n\t\t\tsortingBlock?.classList.toggle('active');\r\n\t\t}\r\n\t\tif (!target.closest('.sorting') && sortingBlock?.classList.contains('active')) {\r\n\t\t\tsortingBlock?.classList.remove('active');\r\n\t\t}\r\n\t\tif (target.closest('.sorting__list-item')) {\r\n\t\t\tconst sortingItems = document.querySelectorAll('.sorting__list-item.active');\r\n\t\t\tif (sortingItems) {\r\n\t\t\t\tsortingItems.forEach((item) => item.classList.remove('active'));\r\n\t\t\t}\r\n\t\t\ttarget.classList.add('active');\r\n\t\t\tsortingBlock?.classList.remove('active');\r\n\t\t}\r\n\t\tif (target.closest('.filter-button')) {\r\n\t\t\tasideForm?.classList.add('active');\r\n\t\t\tfilter?.classList.add('active');\r\n\t\t\tdocument.body.classList.add('lock');\r\n\t\t\toverlay?.classList.add('active');\r\n\t\t}\r\n\t}\r\n\r\n\tif (asideForm) {\r\n\t\tconst form = asideForm.querySelector('form');\r\n\t\tform.addEventListener('submit', (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\t}\r\n\t// Перемещение активного пункта навигации в начало блока\r\n\tconst navigationLinks = document.querySelectorAll('.navigation-city__link');\r\n\tconst navigationCity = document.querySelector('.navigation-city');\r\n\tconst navigationCityList = document.querySelector('.navigation-city__list');\r\n\tconst navigationItems = document.querySelectorAll('.navigation-city__item');\r\n\tif (navigationLinks.length) {\r\n\t\tnavigationLinks.forEach((link) => {\r\n\t\t\tif (link.classList.contains('active')) {\r\n\t\t\t\tconst offset = link.getBoundingClientRect().left - navigationCity?.getBoundingClientRect().left;\r\n\t\t\t\tnavigationCityList?.scrollTo(offset, 0);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t// console.log(navigationCity?.clientLeft);\r\n\t// function checkScrollingNavigation() {\r\n\t// \tconst itemWidth = navigationItems[2].getBoundingClientRect().width;\r\n\t// \tconsole.log(itemWidth);\r\n\t// \tif (itemWidth * 8 < navigationCityList?.scrollWidth) {\r\n\t// \t\tnavigationCityList?.classList.add('scrolling');\r\n\t// \t} else {\r\n\t// \t\tnavigationCityList?.classList.remove('scrolling');\r\n\t// \t}\r\n\t// }\r\n\t// checkScrollingNavigation();\r\n\t// window.addEventListener('resize', () => {\r\n\t// \tcheckScrollingNavigation();\r\n\t// });\r\n\tfunction changePositionButton() {\r\n\t\tconst textClamps = document.querySelectorAll('.text-clamp');\r\n\t\tif (textClamps) {\r\n\t\t\ttextClamps.forEach((text) => {\r\n\t\t\t\tconst button = text.querySelector('.btn-detail');\r\n\t\t\t\tif (text?.scrollHeight > text?.getBoundingClientRect().height + 1) {\r\n\t\t\t\t\tbutton?.classList.add('changed');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbutton?.classList.remove('changed');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tchangePositionButton();\r\n\twindow.addEventListener('resize', changePositionButton);\r\n});\r\n"],
  "mappings": "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",
  "names": []
}
