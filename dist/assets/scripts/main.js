import{a as L,b as v}from"../chunks/chunk-JLS5VIAH.js";var f=class{constructor(i){this.type=i}init(){this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=[...document.querySelectorAll("[data-da]")],this.nodes.forEach(i=>{let e=i.dataset.da.trim().split(","),c={};c.element=i,c.parent=i.parentNode,c.destination=document.querySelector(`${e[0].trim()}`),c.breakpoint=e[1]?e[1].trim():"767",c.place=e[2]?e[2].trim():"last",c.index=this.indexInParent(c.parent,c.element),this.оbjects.push(c)}),this.arraySort(this.оbjects),this.mediaQueries=this.оbjects.map(({breakpoint:i})=>`(${this.type}-width: ${i}px),${i}`).filter((i,t,e)=>e.indexOf(i)===t),this.mediaQueries.forEach(i=>{let t=i.split(","),e=window.matchMedia(t[0]),c=t[1],o=this.оbjects.filter(({breakpoint:u})=>u===c);e.addEventListener("change",()=>{this.mediaHandler(e,o)}),this.mediaHandler(e,o)})}mediaHandler(i,t){i.matches?t.forEach(e=>{this.moveTo(e.place,e.element,e.destination)}):t.forEach(({parent:e,element:c,index:o})=>{c.classList.contains(this.daClassname)&&this.moveBack(e,c,o)})}moveTo(i,t,e){if(t.classList.add(this.daClassname),i==="last"||i>=e.children.length){e.append(t);return}if(i==="first"){e.prepend(t);return}e.children[i].before(t)}moveBack(i,t,e){t.classList.remove(this.daClassname),i.children[e]!==void 0?i.children[e].before(t):i.append(t)}indexInParent(i,t){return[...i.children].indexOf(t)}arraySort(i){if(this.type==="min")i.sort((t,e)=>t.breakpoint===e.breakpoint?t.place===e.place?0:t.place==="first"||e.place==="last"?-1:t.place==="last"||e.place==="first"?1:0:t.breakpoint-e.breakpoint);else{i.sort((t,e)=>t.breakpoint===e.breakpoint?t.place===e.place?0:t.place==="first"||e.place==="last"?1:t.place==="last"||e.place==="first"?-1:0:e.breakpoint-t.breakpoint);return}}};function b(d=document){let i=d.querySelectorAll("[data-popup]");i.length&&i.forEach(function(e){e.addEventListener("click",function(c){c.preventDefault();let o=e.getAttribute("data-popup");d.querySelector("#"+o).classList.add("active"),document.body.classList.add("lock"),o==="modal-map"&&!L&&v()})});let t=d.querySelectorAll(".popup");t.length<1&&d.classList.contains("popup")&&(t=[d]),t.length&&t.forEach(function(e){e.addEventListener("click",function(c){(c.target.matches(".popup")||c.target.matches(".popup__close"))&&(e.classList.remove("active"),document.body.classList.remove("lock"))})})}document.addEventListener("DOMContentLoaded",()=>{new f("max").init(),b();function i(){let n=document.querySelectorAll(".text-clamp");n&&n.forEach(s=>{let a=s.querySelector("p"),r=s.querySelector(".btn-detail");s?.scrollHeight>s?.clientHeight?r?.classList.add("changed"):r?.classList.remove("changed")})}i(),window.addEventListener("resize",i);let t=document.querySelector(".menu-category"),e=document.querySelector(".menu");function c(n){let s=n.target;s===t||t?.contains(s)||(s.closest(".header__btn-choice")&&(s.classList.toggle("active"),t?.classList.toggle("active")),(!t||!s.closest(".header__btn-choice"))&&(document.querySelector(".header__btn-choice")?.classList.remove("active"),t?.classList.remove("active")),s.closest(".header-burger")&&(s.classList.toggle("active"),e?.classList.toggle("active"),document.body.classList.toggle("lock")))}document.addEventListener("click",c);function o(n,s){n.classList.add("active"),n.parentElement.classList.add("active"),n.nextElementSibling.style.height="auto",n.nextElementSibling.style.opacity="1";let a=n.nextElementSibling.clientHeight+s+"px";n.nextElementSibling.style.height="0px",setTimeout(function(){n.nextElementSibling.style.height=a},0)}function u(n){n.classList.remove("active"),n.parentElement.classList.remove("active"),n.nextElementSibling.style.height=n.nextElementSibling.clientHeight+"px",n.nextElementSibling.style.opacity="0",setTimeout(function(){n.nextElementSibling.style.height="0px"},0)}function E(n,s,a){n.length!=0&&(a&&o(n[0],s),n.forEach(function(r,l){r.addEventListener("click",function(m){m.preventDefault(),n.forEach((p,g)=>{g!=l&&u(p)}),r.classList.contains("active")?u(r):o(r,s)})}))}let S=document.querySelectorAll("[data-accordeon-button]");if(E(S,0),document.querySelector(".city-hotels")==null){let s=document.querySelector(".popup-map")?.querySelector(".filter-button-mobile");s&&s.remove()}let x=()=>{document.querySelectorAll(".menu-category__link.active").forEach(s=>s.classList.remove("active"))},h=document.querySelectorAll(".menu-category__link");h.length&&(h.forEach((n,s)=>{let a=n.closest(".menu-category__box")?.querySelector(".menu-category__list"),r=`${a?.scrollHeight}`,l=n.nextElementSibling;l&&n.classList.add("expanded"),n.addEventListener("click",m=>{if(m.preventDefault(),l)if(window.innerWidth>1024){x(),n.classList.add("active");let p=document.querySelector(".dynamic-box");p.innerHTML=l!==null?l.innerHTML:""}else n.classList.toggle("open"),n.classList.contains("open")?(l.style.height=`${l?.scrollHeight}px`,a.style.height=`${a?.scrollHeight+l?.scrollHeight}px`):(l.style.height="0px",a.style.height=`${r}px`),[...h].forEach((p,g)=>{if(s!=g){p.classList.remove("open");let y=p.nextElementSibling;y&&(y.style.height="0px",a.style.height="auto")}})})}),window.innerWidth>1024&&h[0].click())});
