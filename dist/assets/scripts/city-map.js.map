{
  "version": 3,
  "sources": ["../../../src/scripts/city-map.ts"],
  "sourcesContent": ["let isLoaded = false;\r\n\r\nfunction loadMap() {\r\n\tconst script = document.createElement('script');\r\n\tscript.src = 'https://api-maps.yandex.ru/v3/?apikey=5f83ec22-85a8-4723-a3ac-503a77f91a74&lang=ru_RU';\r\n\tdocument.body.appendChild(script);\r\n\tscript.onload = function () {\r\n\t\tinitMap();\r\n\t\t// if (typeof ymaps3 === 'undefined') return;\r\n\t\t// ymaps3.ready(initMap);\r\n\t};\r\n}\r\n\r\nconst coords = [39.331297, 43.911584];\r\nconst map = document.getElementById('map');\r\n\r\nasync function initMap() {\r\n\tawait ymaps3?.ready;\r\n\r\n\tconst { YMap, YMapDefaultSchemeLayer, YMapDefaultFeaturesLayer, YMapMarker } = ymaps3;\r\n\tconst map = new YMap(document.getElementById('map'), {\r\n\t\tlocation: {\r\n\t\t\tcenter: coords,\r\n\t\t\tzoom: 15,\r\n\t\t},\r\n\t});\r\n\t// Добавьте слой с дорогами и зданиями\r\n\tmap.addChild(new YMapDefaultSchemeLayer());\r\n\t// Добавьте слой для маркеров\r\n\tmap.addChild(new YMapDefaultFeaturesLayer());\r\n\r\n\tconst content = document.createElement('img');\r\n\tcontent.classList.add('contacts__map-point');\r\n\t// content.src = '/images/icons/pin.svg';\r\n\r\n\t// Инициализируйте маркер\r\n\tconst marker = new YMapMarker(\r\n\t\t{\r\n\t\t\tcoordinates: coords,\r\n\t\t\tdraggable: true,\r\n\t\t},\r\n\t\tcontent\r\n\t);\r\n\tmap.addChild(marker);\r\n}\r\n\r\nlet observerOptions = {\r\n\t// root: по умолчанию window, но можно задать любой элемент-контейнер\r\n\trootMargin: '0px 0px 0px 0px',\r\n};\r\nlet observer = new IntersectionObserver(([entry]) => {\r\n\tconst targetInfo = entry.boundingClientRect;\r\n\tconst rootBoundsInfo = entry.rootBounds;\r\n\tif ((!isLoaded && targetInfo.top < rootBoundsInfo.bottom) || targetInfo.isIntersecting) {\r\n\t\tloadMap();\r\n\t\tobserver.unobserve(entry.target);\r\n\t}\r\n}, observerOptions);\r\nobserver.observe(map);\r\n"],
  "mappings": ";AAAA,IAAI,WAAW;AAEf,SAAS,UAAU;AAClB,QAAM,SAAS,SAAS,cAAc,QAAQ;AAC9C,SAAO,MAAM;AACb,WAAS,KAAK,YAAY,MAAM;AAChC,SAAO,SAAS,WAAY;AAC3B,YAAQ;AAAA,EAGT;AACD;AAEA,IAAM,SAAS,CAAC,WAAW,SAAS;AACpC,IAAM,MAAM,SAAS,eAAe,KAAK;AAEzC,eAAe,UAAU;AACxB,QAAM,QAAQ;AAEd,QAAM,EAAE,MAAM,wBAAwB,0BAA0B,WAAW,IAAI;AAC/E,QAAMA,OAAM,IAAI,KAAK,SAAS,eAAe,KAAK,GAAG;AAAA,IACpD,UAAU;AAAA,MACT,QAAQ;AAAA,MACR,MAAM;AAAA,IACP;AAAA,EACD,CAAC;AAED,EAAAA,KAAI,SAAS,IAAI,uBAAuB,CAAC;AAEzC,EAAAA,KAAI,SAAS,IAAI,yBAAyB,CAAC;AAE3C,QAAM,UAAU,SAAS,cAAc,KAAK;AAC5C,UAAQ,UAAU,IAAI,qBAAqB;AAI3C,QAAM,SAAS,IAAI;AAAA,IAClB;AAAA,MACC,aAAa;AAAA,MACb,WAAW;AAAA,IACZ;AAAA,IACA;AAAA,EACD;AACA,EAAAA,KAAI,SAAS,MAAM;AACpB;AAEA,IAAI,kBAAkB;AAAA;AAAA,EAErB,YAAY;AACb;AACA,IAAI,WAAW,IAAI,qBAAqB,CAAC,CAAC,KAAK,MAAM;AACpD,QAAM,aAAa,MAAM;AACzB,QAAM,iBAAiB,MAAM;AAC7B,MAAK,CAAC,YAAY,WAAW,MAAM,eAAe,UAAW,WAAW,gBAAgB;AACvF,YAAQ;AACR,aAAS,UAAU,MAAM,MAAM;AAAA,EAChC;AACD,GAAG,eAAe;AAClB,SAAS,QAAQ,GAAG;",
  "names": ["map"]
}
