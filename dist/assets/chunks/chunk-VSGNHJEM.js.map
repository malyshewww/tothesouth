{
  "version": 3,
  "sources": ["../../../src/scripts/modules/map-popup.ts"],
  "sourcesContent": ["export let isLoaded = false;\r\nexport function loadMap() {\r\n\tconst script = document.createElement('script');\r\n\tscript.src = 'https://api-maps.yandex.ru/v3/?apikey=5f83ec22-85a8-4723-a3ac-503a77f91a74&lang=ru_RU';\r\n\tdocument.body.appendChild(script);\r\n\tscript.onload = function () {\r\n\t\tinitMap();\r\n\t\tisLoaded = true;\r\n\t\t// if (typeof ymaps3 === 'undefined') return;\r\n\t\t// ymaps3.ready(initMap);\r\n\t};\r\n}\r\n\r\nconst coords = [39.331297, 43.911584];\r\nconst map = document.getElementById('map-popup');\r\n\r\nasync function initMap() {\r\n\tawait ymaps3?.ready;\r\n\r\n\tconst { YMap, YMapDefaultSchemeLayer, YMapDefaultFeaturesLayer, YMapMarker } = ymaps3;\r\n\tconst map = new YMap(document.getElementById('map-popup'), {\r\n\t\tlocation: {\r\n\t\t\tcenter: coords,\r\n\t\t\tzoom: 15,\r\n\t\t},\r\n\t});\r\n\t// Добавьте слой с дорогами и зданиями\r\n\tmap.addChild(new YMapDefaultSchemeLayer());\r\n\t// Добавьте слой для маркеров\r\n\tmap.addChild(new YMapDefaultFeaturesLayer());\r\n\r\n\t// Инициализируйте маркер\r\n\tconst marker = new YMapMarker({\r\n\t\tcoordinates: coords,\r\n\t\tdraggable: true,\r\n\t});\r\n\tmap.addChild(marker);\r\n\r\n\tif (window.innerWidth < 1024) {\r\n\t\tmap.setBehaviors(['multiTouch', 'dblClickZoom', 'rightMouseButtonMagnifier', 'pinchZoom', 'dblClick', 'magnifier']);\r\n\r\n\t\tconst mapLayout = document.getElementById('map-popup');\r\n\t\tif (mapLayout) {\r\n\t\t\tlet pane = document.createElement('div');\r\n\t\t\tpane.innerHTML = 'Чтобы переместить карту проведите по ней двумя пальцами';\r\n\t\t\tpane.style.cssText =\r\n\t\t\t\t'height: 100%; width: 100%; position: absolute; top: 0px; left: 0px; z-index: 9; color: #fff; font-size: 22px; font-family: Arial, sans-serif; display: flex; align-items: center; justify-content: center; text-align: center; background-color: rgba(0,0,0,0.45); opacity: 0; transition: opacity 0.45s; padding: 25px; box-sizing: border-box;';\r\n\t\t\tmapLayout.append(pane);\r\n\t\t\tmapLayout.addEventListener('touchmove', function (e) {\r\n\t\t\t\tlet touches = e.touches.length;\r\n\t\t\t\tif (touches > 1) {\r\n\t\t\t\t\t// Если точек касания больше одной\r\n\t\t\t\t\tpane.style.opacity = '0';\r\n\t\t\t\t\tpane.style.pointerEvents = 'none';\r\n\t\t\t\t\tmapLayout.querySelector('.ymaps3x0--map').classList.remove('not-touch');\r\n\t\t\t\t\tmap.setBehaviors([\r\n\t\t\t\t\t\t'drag',\r\n\t\t\t\t\t\t'multiTouch',\r\n\t\t\t\t\t\t'dblClickZoom',\r\n\t\t\t\t\t\t'rightMouseButtonMagnifier',\r\n\t\t\t\t\t\t'pinchZoom',\r\n\t\t\t\t\t\t'dblClick',\r\n\t\t\t\t\t\t'magnifier',\r\n\t\t\t\t\t]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpane.style.opacity = '1';\r\n\t\t\t\t\tpane.style.pointerEvents = '';\r\n\t\t\t\t\tmapLayout.querySelector('.ymaps3x0--map').classList.add('not-touch');\r\n\t\t\t\t\tmap.setBehaviors(['multiTouch', 'dblClickZoom', 'rightMouseButtonMagnifier', 'pinchZoom', 'dblClick', 'magnifier']);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tmapLayout.addEventListener('touchend', () => {\r\n\t\t\t\tpane.style.opacity = '0';\r\n\t\t\t});\r\n\t\t}\r\n\t} else {\r\n\t\t// map.addChild(new YMapControls({ position: 'right' }).addChild(new YMapZoomControl({})));\r\n\t}\r\n}\r\n"],
  "mappings": ";AAAO,IAAI,WAAW;AACf,SAAS,UAAU;AACzB,QAAM,SAAS,SAAS,cAAc,QAAQ;AAC9C,SAAO,MAAM;AACb,WAAS,KAAK,YAAY,MAAM;AAChC,SAAO,SAAS,WAAY;AAC3B,YAAQ;AACR,eAAW;AAAA,EAGZ;AACD;AAEA,IAAM,SAAS,CAAC,WAAW,SAAS;AACpC,IAAM,MAAM,SAAS,eAAe,WAAW;AAE/C,eAAe,UAAU;AACxB,QAAM,QAAQ;AAEd,QAAM,EAAE,MAAM,wBAAwB,0BAA0B,WAAW,IAAI;AAC/E,QAAMA,OAAM,IAAI,KAAK,SAAS,eAAe,WAAW,GAAG;AAAA,IAC1D,UAAU;AAAA,MACT,QAAQ;AAAA,MACR,MAAM;AAAA,IACP;AAAA,EACD,CAAC;AAED,EAAAA,KAAI,SAAS,IAAI,uBAAuB,CAAC;AAEzC,EAAAA,KAAI,SAAS,IAAI,yBAAyB,CAAC;AAG3C,QAAM,SAAS,IAAI,WAAW;AAAA,IAC7B,aAAa;AAAA,IACb,WAAW;AAAA,EACZ,CAAC;AACD,EAAAA,KAAI,SAAS,MAAM;AAEnB,MAAI,OAAO,aAAa,MAAM;AAC7B,IAAAA,KAAI,aAAa,CAAC,cAAc,gBAAgB,6BAA6B,aAAa,YAAY,WAAW,CAAC;AAElH,UAAM,YAAY,SAAS,eAAe,WAAW;AACrD,QAAI,WAAW;AACd,UAAI,OAAO,SAAS,cAAc,KAAK;AACvC,WAAK,YAAY;AACjB,WAAK,MAAM,UACV;AACD,gBAAU,OAAO,IAAI;AACrB,gBAAU,iBAAiB,aAAa,SAAU,GAAG;AACpD,YAAI,UAAU,EAAE,QAAQ;AACxB,YAAI,UAAU,GAAG;AAEhB,eAAK,MAAM,UAAU;AACrB,eAAK,MAAM,gBAAgB;AAC3B,oBAAU,cAAc,gBAAgB,EAAE,UAAU,OAAO,WAAW;AACtE,UAAAA,KAAI,aAAa;AAAA,YAChB;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,UACD,CAAC;AAAA,QACF,OAAO;AACN,eAAK,MAAM,UAAU;AACrB,eAAK,MAAM,gBAAgB;AAC3B,oBAAU,cAAc,gBAAgB,EAAE,UAAU,IAAI,WAAW;AACnE,UAAAA,KAAI,aAAa,CAAC,cAAc,gBAAgB,6BAA6B,aAAa,YAAY,WAAW,CAAC;AAAA,QACnH;AAAA,MACD,CAAC;AAED,gBAAU,iBAAiB,YAAY,MAAM;AAC5C,aAAK,MAAM,UAAU;AAAA,MACtB,CAAC;AAAA,IACF;AAAA,EACD,OAAO;AAAA,EAEP;AACD;",
  "names": ["map"]
}
